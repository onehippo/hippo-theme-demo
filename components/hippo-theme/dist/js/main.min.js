!function(){"use strict";angular.module("hippo.theme",["hippo.plugins"])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.chart",[function(){return{restrict:"A",scope:{data:"="},link:function(a,b){var c=null,d={series:{pie:{show:!0,highlight:{opacity:.25},stroke:{color:"#fff",width:2},startAngle:2}},legend:{show:!0,position:"ne",labelBoxBorderColor:null},grid:{hoverable:!0,clickable:!0}};a.$watch("data",function(a){if(a){var e=_.map(a,function(a){return{label:a.label,data:a.value}});c?(c.setData(e),c.setupGrid(),c.draw()):(c=$.plot(b,e,d),b.show())}})}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.divider",[function(){return{restrict:"A",link:function(a,b,c){var d=a.$eval(c["hippo.theme.divider"]);d&&b.before('<li role="presentation" class="divider"></li>')}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.focusMe",["$timeout","$parse",function(a){return{link:function(b,c){b.focusMe=!1,b.$watch("focusMe",function(b){b===!0&&a(function(){c[0].focus()})}),c.blur(function(){b.focusMe=!1,b.$apply()})}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.map",[function(){return{restrict:"A",scope:{points:"=markers"},link:function(a,b){function c(a){var b=_.map(a,function(a){return new google.maps.Marker({position:a})});g.clearMarkers(),g.addMarkers(b),g.redraw();var c=new google.maps.LatLngBounds;if(angular.forEach(a,function(a){c.extend(a)}),c.getNorthEast().equals(c.getSouthWest())){var d=new google.maps.LatLng(c.getNorthEast().lat()+.015,c.getNorthEast().lng()+.015),e=new google.maps.LatLng(c.getNorthEast().lat()-.015,c.getNorthEast().lng()-.015);c.extend(d),c.extend(e)}f.fitBounds(c)}var d=new google.maps.LatLng(52.359448,4.901317),e={zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP,center:d},f=new google.maps.Map(b[0],e),g=new MarkerClusterer(f,[]);a.$watch("points",function(a){var b=_.map(a,function(a){return new google.maps.LatLng(a.latitude,a.longitude)});c(b)})}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.panelDefault",[function(){return{restrict:"A",replace:!0,transclude:!0,template:'<div class="panel panel-default"><div class="panel-heading">{{ panel.title }}</div><div class="panel-body"><div><div ng-transclude></div></div></div></div>',scope:{title:"="},link:function(a){a.panel={title:a.title}}}}])}(),function(){"use strict";angular.module("hippo.theme").service("hippo.theme.ViewportSizes",[function(){var a={},b=[{order:0,name:"xs",active:!1},{order:1,name:"sm",active:!1},{order:2,name:"md",active:!1},{order:3,name:"lg",active:!1}];return a.getAll=function(){return b},a.setCurrent=function(a){_.each(b,function(b){b.active=a.name==b.name})},a.getCurrent=function(){return _.find(b,function(a){return a.active===!0})},a}]).directive("hippo.theme.viewportTest",["$window","hippo.theme.ViewportSizes",function(a,b){return{restrict:"A",replace:!0,template:"<div></div>",link:function(c,d){function e(){var a=angular.element("<div>");d.append(a);for(var c=b.getAll(),e=c.length-1;e>=0;e--){var f=c[e];if(a.addClass("hidden-"+f.name),a.is(":hidden"))return a.remove(),b.setCurrent(f),void 0}}e(),angular.element(a).bind("resize",function(){e()})}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.selectBox",[function(){return{restrict:"A",link:function(a,b){a.$watch("options",function(){b.trigger("chosen:updated")}),b.chosen({width:"100%"})}}}])}(),function(){"use strict";angular.module("hippo.theme").service("hippo.theme.URLParser",["$rootScope","$location",function(a,b){var c=[],d={};return a.$on("$stateChangeSuccess",function(){var a,d=b.path().split("/"),e=[],f=function(a){return"/"+d.slice(0,a+1).join("/")};for(d.shift(),a=0;a<d.length;a++)e.push({name:d[a],path:f(a)});c=e}),d.getAll=function(){return c},d.getFirst=function(){return c[0]||{}},d.getAllWithoutLast=function(){var a=c.slice(0);return a.pop(),a},d.getParent=function(){return c[c.length-2]||null},d}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.tree",[function(){return{restrict:"A",scope:{data:"=",onSelect:"&onSelect",onMove:"&onMove"},template:'<div id="filter"></div>',link:function(a,b){function c(a){var b=a[0]||{};b.state=b.state||{},b.state.selected=b.state.selected||!0}function d(a,b){b=b||1,_.each(a,function(a){a.li_attr={"data-level":b},a.children&&d(a.children,b+1)})}function e(a,b){b=b||1,$(a).children("li").each(function(a,c){$(c).attr("data-level",b),$(c).children(".jstree-children").each(function(a,c){e($(c),b+1)})})}function f(a){$(a).find(".jstree-node").removeClass("active"),$(".jstree-clicked",a).closest(".jstree-node").addClass("active")}function g(b,c){c.unbind().jstree("destroy"),c.on("loaded.jstree",function(a){f(a.target)}),c.jstree({plugins:["themes","dnd","crrm"],core:{data:b,check_callback:!0},themes:{theme:"hippo"},crrm:{move:{always_copy:"multitree"}}}).on("open_node.jstree",function(a,b){e(b.instance.element.children("ul"))}).on("activate_node.jstree",function(b,c){f(b.target),a.onSelect({itemId:c.node.id})}).on("move_node.jstree",function(b,d){e(d.instance.element.children("ul")),f(b.target);var g=$.jstree.reference(c).get_json(d.old_parent,{}),h=$.jstree.reference(c).get_json(d.parent,{}),i={prevParent:g[0]||g,newParent:h[0]||h,position:d.position};a.onMove({node:i})}).on("after_open.jstree",function(a){f(a.target)}).jstree("set_theme","hippo")}var h=!0;a.$watch("data",function(){h&&c(a.data),d(a.data),g(a.data,b),h=!1},!0)}}}])}();